/*! For license information please see module.js.LICENSE.txt */
(()=>{"use strict";var __webpack_modules__={"./js/inserted-script.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _random_messages_getPopUpStyles__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./random-messages/getPopUpStyles */ "./js/random-messages/getPopUpStyles.js");\n/* harmony import */ var _random_messages_initRandomMessages__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./random-messages/initRandomMessages */ "./js/random-messages/initRandomMessages.js");\n\n\ndocument.onreadystatechange = function () {\n  init();\n  (0,_random_messages_initRandomMessages__WEBPACK_IMPORTED_MODULE_1__.initRandomMessages)();\n};\n\n// Rozetka.com.ua, product page\nvar SELECTOR = \'rz-gallery-main-content-image img\';\nvar STYLES = "\\n    font-size: 18px;\\n    font-weight: bold;\\n    color: red;\\n    position: absolute;\\n    bottom: 20px;\\n";\nfunction init() {\n  var _selectors = document.querySelectorAll(SELECTOR);\n  if (_selectors.length === 0) {\n    console.warn(\'Bubbi task: can not find %O to insert HTML\\nExit script\', SELECTOR);\n    return;\n  }\n  _selectors.forEach(function (i) {\n    i.insertAdjacentHTML(\'afterend\', getHTML());\n  });\n}\nfunction getHTML() {\n  return "\\n    ".concat((0,_random_messages_getPopUpStyles__WEBPACK_IMPORTED_MODULE_0__.getPopUpStyles)(), "\\n    <div style=\\"").concat(STYLES, "\\">\\n      <span id=\\"infoTrigger\\">Click me for more information</span>\\n    </div>\\n  ");\n}\n\n//# sourceURL=webpack://test-assignment/./js/inserted-script.js?')},"./js/module.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _inserted_script__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./inserted-script */ "./js/inserted-script.js");\n\nconsole.log("%c YOUR SCRIPT IS INSERTED", "background: red; color: white; font-size: 28px; font-weight: 700; padding: 8px 14px; border-radius: 4px;");\n\n//# sourceURL=webpack://test-assignment/./js/module.js?')},"./js/random-messages/getPopUpStyles.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getPopUpStyles: () => (/* binding */ getPopUpStyles)\n/* harmony export */ });\nfunction getPopUpStyles() {\n  return "\\n    <style>\\n        /* CSS for the initial clickable text */\\n        #infoTrigger {\\n            font-size: 18px;\\n            color: red;\\n            cursor: pointer;\\n            user-select: none;\\n            display: inline-block;\\n            padding: 5px;\\n        }\\n\\n        /* CSS for the pop-up (the \\"faux Tippy\\") */\\n        .custom-popup {\\n            position: absolute;\\n            background-color: #f9f9f9;\\n            border: 1px solid #007bff; /* Changed border color for better visibility */\\n            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\\n            padding: 15px;\\n            border-radius: 8px;\\n            z-index: 1000;\\n            max-width: 250px;\\n            opacity: 0;\\n            visibility: hidden;\\n            transition: opacity 0.3s ease, visibility 0.3s ease;\\n            display: flex;\\n            align-items: center;\\n            gap: 10px;\\n        }\\n\\n        .custom-popup.show {\\n            opacity: 1;\\n            visibility: visible;\\n        }\\n\\n        /* CSS for the pop-up icon */\\n        .popup-icon {\\n            font-size: 24px;\\n            line-height: 1;\\n        }\\n\\n        /* CSS for the close button */\\n        .close-btn {\\n            background: none;\\n            border: none;\\n            color: #aaa;\\n            font-size: 16px;\\n            font-weight: bold;\\n            cursor: pointer;\\n            position: absolute;\\n            top: 5px;\\n            right: 10px;\\n        }\\n\\n        .close-btn:hover {\\n            color: #333;\\n        }\\n    </style>\\n  ";\n}\n\n//# sourceURL=webpack://test-assignment/./js/random-messages/getPopUpStyles.js?')},"./js/random-messages/initRandomMessages.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initRandomMessages: () => (/* binding */ initRandomMessages)\n/* harmony export */ });\n// --- Configuration Data ---\nvar RANDOM_MESSAGES = ['Great choice! You are the best', \"Fantastic click! What's next?\", 'You found the secret message!', 'Random response activated!', 'Enjoy the information!', 'Success! Mission accomplished.'];\n\n// Using simple unicode characters as random icons\nvar RANDOM_ICONS = ['ðŸŒŸ', 'ðŸ’¡', 'ðŸš€', 'ðŸŽ‰', 'ðŸ’–', 'âœ…', 'ðŸ¥³', 'âœ¨'];\nvar popupTimeoutId = null; // Stores the ID for the 5-second auto-close timer\n\nfunction initRandomMessages() {\n  // --- Global State and Elements ---\n  var infoTrigger = document.getElementById('infoTrigger');\n  // let popupTimeoutId = null; // Stores the ID for the 5-second auto-close timer\n\n  // Attach the click event listener to the trigger text\n  infoTrigger.addEventListener('click', showPopup);\n}\n\n// --- Helper Functions ---\n\n/**\r\n * Gets a random item from an array.\r\n * @param {Array<string>} arr - The array to choose from.\r\n * @returns {string} A random element from the array.\r\n */\nfunction getRandomItem(arr) {\n  var randomIndex = Math.floor(Math.random() * arr.length);\n  return arr[randomIndex];\n}\n\n/**\r\n * Closes the pop-up and clears the auto-close timeout.\r\n */\nfunction closePopup() {\n  var existingPopup = document.querySelector('.custom-popup');\n\n  // 1. Clear the automatic close timer\n  if (popupTimeoutId) {\n    clearTimeout(popupTimeoutId);\n    popupTimeoutId = null;\n  }\n  if (existingPopup) {\n    // 2. Remove the 'show' class for the fade-out effect\n    existingPopup.classList.remove('show');\n\n    // 3. Wait for the transition to finish, then remove the element from DOM\n    setTimeout(function () {\n      existingPopup.remove();\n    }, 300); // Matches the CSS transition time\n  }\n}\n\n/**\r\n * Creates and displays the pop-up with random content.\r\n */\nfunction showPopup() {\n  // Check if a pop-up is already visible (prevents double pop-ups)\n  if (document.querySelector('.custom-popup')) {\n    // If it exists, we close the old one before making a new one\n    closePopup();\n    return;\n  }\n\n  // --- 1. Get Random Content ---\n  var randomMessage = getRandomItem(RANDOM_MESSAGES);\n  var randomIcon = getRandomItem(RANDOM_ICONS);\n\n  // --- 2. Create Elements ---\n  var popup = document.createElement('div');\n  popup.className = 'custom-popup';\n  var icon = document.createElement('span');\n  icon.className = 'popup-icon';\n  icon.textContent = randomIcon;\n  var message = document.createElement('span');\n  message.textContent = randomMessage;\n  var closeBtn = document.createElement('button');\n  closeBtn.className = 'close-btn';\n  closeBtn.textContent = 'Ã—';\n\n  // --- 3. Assemble and Attach ---\n  popup.appendChild(icon);\n  popup.appendChild(message);\n  popup.appendChild(closeBtn);\n  document.body.appendChild(popup);\n\n  // --- 4. Position the Pop-up ---\n  var rect = infoTrigger.getBoundingClientRect();\n  // Wait for the popup to be in the DOM to get correct width/height before positioning\n\n  // This positioning tries to place the popup right above the trigger element.\n  // Using a short delay to ensure offsetHeight/offsetWidth are calculated correctly.\n  setTimeout(function () {\n    var popupWidth = popup.offsetWidth;\n    var popupHeight = popup.offsetHeight;\n\n    // Vertical: Place 10px above the trigger\n    popup.style.top = \"\".concat(rect.top + window.scrollY - popupHeight - 10, \"px\");\n    // Horizontal: Center the pop-up on the trigger\n    popup.style.left = \"\".concat(rect.left + window.scrollX + rect.width / 2 - popupWidth / 2, \"px\");\n\n    // Add 'show' class to trigger the CSS fade-in\n    popup.classList.add('show');\n  }, 1);\n\n  // --- 5. Setup Timers and Events ---\n\n  // Auto-Close Timer (5 seconds)\n  popupTimeoutId = setTimeout(closePopup, 5000); // 5000ms = 5 seconds\n\n  // Close Button Event\n  closeBtn.addEventListener('click', closePopup);\n}\n\n//# sourceURL=webpack://test-assignment/./js/random-messages/initRandomMessages.js?")}},__webpack_module_cache__={};function __webpack_require__(e){var n=__webpack_module_cache__[e];if(void 0!==n)return n.exports;var t=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](t,t.exports,__webpack_require__),t.exports}__webpack_require__.d=(e,n)=>{for(var t in n)__webpack_require__.o(n,t)&&!__webpack_require__.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},__webpack_require__.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__("./js/module.js")})();